version: 2.1

jobs:
  build:
    docker:
      - image: circleci/node:12.10.0

  steps:
    - checkout

    - run:
        name: Current Time
        command: date

    - restore_cache:
        name: Restore Yarn Package Cache
        keys:
          - yarn-packages-{{ checksum "yarn.lock" }}

    - run:
        name: Install Dependencies
        command: 'yarn install --frozen-lockfile'

    - save_cache:
        name: Save Yarn Package Cache
        key: dependency-cache-{{ checksum "yarn.lock" }}
        paths:
          - ~/.cache/yarn

    - run:
        name: lint
        command: 'yarn lint'

    - run:
        name: test
        command: 'yarn test'
